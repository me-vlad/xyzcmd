#
# Max E. Kuznecov <syhpoon@syhpoon.name> 2008-2009
#
# Default actions. Do not edit.
#

# Execute file
action(r'(type{file} and perm{+0111}) or '\
       r'(type{link} and link_type{file} and link_perm{+0111})',
       lambda obj: shell(obj.path))

# Enter directory
action(
    r'type{dir} or name{"\\.\\."} or (link_type{dir} and link_exists{?})',
    lambda obj: call(":sys:panel:chdir", obj.full_path))

## Multimedia
action(r'iname{".*\\\.(avi|wmv|mov|asf|mpg|flv|mp3)$"}',
       lambda obj: shell("cvlc", "--play-and-exit", "-f", obj.path))

## Documents
# PDF
action(r'iname{".*\\\.pdf$"}', lambda obj: shell("xpdf", obj.path, bg=True))

## Programming sources
# C
action(r'type{file} and name{".*\\\.(c|h)$"}',
       lambda obj: shell(env("EDITOR", "vi"), obj.path))

# C++
action(r'type{file} and iname{".*\\\.(cpp|cxx|hpp|hxx)$"}',
       lambda obj: shell(env("EDITOR", "vi"), obj.path))

## VFS
action('name{"\\\.tar$"}', lambda obj: call(":sys:panel:chdir",
                                            vfs_path(obj.path, "tar")))
action('name{"\\\.tar.gz$"}', lambda obj: call(":sys:panel:chdir",
                                               vfs_path(obj.path, "gztar")))
action('name{"\\\.tar.bz2$"}', lambda obj: call(":sys:panel:chdir",
                                                vfs_path(obj.path, "bz2tar")))
